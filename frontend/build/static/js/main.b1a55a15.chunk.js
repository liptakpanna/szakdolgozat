(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{107:function(e,t,a){e.exports=a(183)},112:function(e,t,a){},176:function(e,t,a){},179:function(e,t,a){},183:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(14),o=a.n(s),i=(a(112),a(5)),l=a(6),c=a(7),m=a(8),u=a(9),h=a(106),p=a(39),d=a(1),g=a.n(d),f=a(3),E=a(28),v=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},this.props.label),r.a.createElement("input",{className:"form-control "+(this.props.class?this.props.class:""),type:this.props.type,placeholder:this.props.placeholder,value:this.props.value,onChange:function(t){return e.props.onChange(t.target.value)},maxLength:this.props.maxLength?this.props.maxLength:"12",required:!!this.props.required&&this.props.required}))}}]),t}(r.a.Component),b=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"submitButton"},r.a.createElement("button",{className:"btn "+this.props.type,disabled:this.props.disabled,onClick:function(){return e.props.onClick()}},this.props.text))}}]),t}(r.a.Component),y=a(13),w=a.n(y),k=a(99),C=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={username:"",password:"",buttonDisabled:!1,show:!1,errormessage:"Cannot connect to server. Please try again later.",adminEmail:[]},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getAdminEmail()}},{key:"setInputValue",value:function(e,t){(t=t.trim()).length>12||this.setState(Object(E.a)({},e,t))}},{key:"resetForm",value:function(){this.setState({username:"",password:"",buttonDisabled:!1})}},{key:"getAdminEmail",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:9090/api/forgotpassword",{method:"get",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:(a=e.sent)&&(console.log(a),500===a.status?(this.setState({show:!0}),this.setState({errormessage:a.message})):(n=JSON.stringify(a),this.setState({adminEmail:n.substring(1,n.length-1)}))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"doLogin",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.username){e.next=2;break}return e.abrupt("return");case 2:if(this.state.password){e.next=4;break}return e.abrupt("return");case 4:return this.setState({buttonDisabled:!0}),e.prev=5,e.next=8,fetch("http://localhost:9090/api/authenticate",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:this.state.username,password:this.state.password})});case 8:return t=e.sent,e.next=11,t.json();case 11:(a=e.sent)&&(console.log(a),403===a.status?(this.setState({errormessage:"Wrong username password combination. If you have forgotten your password please contact an admin: "+this.state.adminEmail}),this.setState({show:!0}),this.setState({buttonDisabled:!1})):500===a.status?(this.setState({show:!0}),this.setState({errormessage:a.message}),this.setState({buttonDisabled:!1})):(localStorage.setItem("isLoggedIn",!0),w.a.set("jwtToken",a.jwttoken),localStorage.setItem("username",this.state.username),localStorage.setItem("id",a.id),localStorage.setItem("role",a.role),this.props.history.push("/home"))),e.next=21;break;case 15:e.prev=15,e.t0=e.catch(5),this.setState({show:!0}),this.setState({errormessage:"Cannot connect to server, please try again later."}),console.log(e.t0),this.resetForm();case 21:case"end":return e.stop()}}),e,this,[[5,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container p-5",style:{backgroundColor:"#e3f2fd"}},r.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},r.a.createElement("h1",null,"Welcome!"),r.a.createElement(v,{type:"text",class:"w-50",placeholder:"Enter username",value:this.state.username?this.state.username:"",onChange:function(t){return e.setInputValue("username",t)},label:"Username",required:!0}),r.a.createElement(v,{type:"password",class:"w-50",placeholder:"Enter password",value:this.state.password?this.state.password:"",onChange:function(t){return e.setInputValue("password",t)},label:"Password",required:!0}),r.a.createElement("br",null),r.a.createElement(b,{text:"Login",type:"btn-primary btn-lg",disabled:this.state.buttonDisabled,onClick:function(){return e.doLogin()}})),this.state.show?r.a.createElement("div",{className:"alert alert-danger mt-3",role:"alert"},this.state.errormessage):null),r.a.createElement(k.a,{color:"#acd7fa",num:100,type:"cobweb",bg:!0}))}}]),t}(r.a.Component),x=a(100),N=a(26);function j(){return S.apply(this,arguments)}function S(){return(S=Object(f.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:9090/api/validate",{method:"get",headers:{Authorization:"Bearer "+w.a.get("jwtToken")}});case 3:return t=e.sent,e.next=6,t.json();case 6:if(a=e.sent,console.log(a),null==a){e.next=13;break}return!1===a&&O(),e.abrupt("return",a);case 13:alert("Something went wrong.");case 14:e.next=21;break;case 16:return e.prev=16,e.t0=e.catch(0),O(),console.log("Cannot connect to server. "+e.t0),e.abrupt("return",!1);case 21:return e.abrupt("return",!1);case 22:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function O(){w.a.set("jwtToken",null),localStorage.setItem("username",""),localStorage.setItem("id",""),localStorage.setItem("role",""),console.log("Logged out")}function A(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}a(118);var I=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).getItemClass=a.getItemClass.bind(Object(N.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"getItemClass",value:function(e){return this.props.active===e?"nav-item active_nav":"nav-item"}},{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-expand-md fixed-top navbar-light",style:{backgroundColor:"#e3f2fd"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"navbar-header"},r.a.createElement("a",{className:"navbar-brand ",href:"/home"},"DNA"),r.a.createElement("button",{className:"navbar-toggler collapsed",type:"button","data-toggle":"collapse","data-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"}))),r.a.createElement("div",{className:"navbar-collapse collapse",id:"navbarCollapse"},r.a.createElement("ul",{className:"nav navbar-nav mr-auto"},r.a.createElement("li",{className:this.getItemClass("home")},r.a.createElement("a",{className:"nav-link",href:"/home"},"Home")," "),r.a.createElement("li",{className:this.getItemClass("alignments")}," ",r.a.createElement("a",{className:" nav-link",href:"/alignments"},"Alignments")),"ADMIN"===localStorage.getItem("role")?r.a.createElement("li",{className:this.getItemClass("users")},r.a.createElement("a",{className:" nav-link",href:"/users"},"Users")):null,r.a.createElement("li",{className:this.getItemClass("profile")},r.a.createElement("a",{className:"nav-link",href:"/profile"},"Profile"))),r.a.createElement("ul",{className:"nav navbar-nav navbar-right"},r.a.createElement("li",{className:"nav-item mr-5"},r.a.createElement("span",{className:"navbar-text"},"User: ",localStorage.getItem("username"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link nav-logout",href:"/login",onClick:function(){return O()}},"Logout"))))))}}]),t}(r.a.Component),F=a(21),D=a.n(F),L=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"onClick",value:function(e){null!==this.props.item?this.props.hist.push(this.props.where,{item:this.props.item}):this.props.hist.push(this.props.where)}},{key:"render",value:function(){var e=this;return r.a.createElement("i",{className:"fa fa-angle-left fa-2x mr-3 pointer","data-toogle":"tooltip","data-placement":"right",title:"Previous page",onClick:function(t){return e.onClick(t)}})}}]),t}(r.a.Component),R=a(121),T=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={isLoggedIn:!0,item:a.props.location.state?a.props.location.state.item:null,open:!1},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,j();case 3:if(e.t1=e.sent,e.t2={isLoggedIn:e.t1},e.t0.setState.call(e.t0,e.t2),!this.state.item){e.next=11;break}if(!this.state.item){e.next=11;break}return t=document.getElementById("igv-div"),a={reference:{id:this.state.item.name,fastaURL:this.state.item.referenceUrl,headers:{Authorization:"Bearer "+w.a.get("jwtToken")}},tracks:this.getTracks()},e.abrupt("return",x.a.createBrowser(t,a));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTracks",value:function(){for(var e=[],t=0;t<this.state.item.bamUrls.length;t++)e.push({url:this.state.item.bamUrls[t].url,indexed:!0,format:"bam",name:this.state.item.bamUrls[t].name,headers:{Authorization:"Bearer "+w.a.get("jwtToken")}});return console.log(e),e}},{key:"addEditButton",value:function(){var e=this;if(localStorage.getItem("username")===this.state.item.owner||"ADMIN"===localStorage.getItem("role"))return r.a.createElement("div",{className:"p-2 w-25"},r.a.createElement("button",{className:"btn btn-outline-secondary btn-lg w-100",onClick:function(){return e.props.history.push("/alignments/edit",{item:e.state.item})}},"Edit"))}},{key:"addUpdated",value:function(){if(this.state.item.updatedAt)return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"card-text"},r.a.createElement("strong",null,"Updated At:")," ",this.state.item.updatedAt?D()(this.state.item.updatedAt).format("YYYY.MM.DD. HH:mm"):""),r.a.createElement("p",{className:"card-text"},r.a.createElement("strong",null,"Updated By:")," ",this.state.item.updatedBy))}},{key:"downloadBamFile",value:function(){var e=Object(f.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(t,{method:"GET",headers:{Authorization:"Bearer "+w.a.get("jwtToken")}}).then((function(e){return e.blob()})).then((function(e){R(e,t.substring(t.lastIndexOf("/"),t.length))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.isLoggedIn?this.state.item?r.a.createElement("div",{className:"container"},r.a.createElement(I,{active:"alignments"}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"container"},r.a.createElement(L,{where:"/alignments",hist:this.props.history}),r.a.createElement("div",{className:"d-inline-flex justify-content-between",style:{width:"95%"}},r.a.createElement("div",{className:"p-2"},r.a.createElement("h1",{className:"d-inline-block"},"IGV Genome browser")),this.addEditButton())),r.a.createElement("br",null),r.a.createElement("div",{className:"accordion md-accordion",id:"accordionEx",role:"tablist","aria-multiselectable":"true"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header",role:"tab",id:"headingOne1",style:{backgroundColor:"#e3f2fd"},onClick:function(){return e.setState({open:!e.state.open})}},r.a.createElement("a",{"data-toggle":"collapse","data-parent":"#accordionEx",href:"#collapseOne1","aria-expanded":"true","aria-controls":"collapseOne1"},r.a.createElement("h5",{className:"mb-0"},this.state.item.name," ",r.a.createElement("i",{className:"fa fa-angle-"+(this.state.open?"down":"right")})))),r.a.createElement("div",{id:"collapseOne1",className:"collapse "+(this.state.open?"show":""),role:"tabpanel","aria-labelledby":"headingOne1","data-parent":"#accordionEx"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("p",{className:"card-text"},r.a.createElement("strong",null,"Aligner:")," ",this.state.item.aligner),r.a.createElement("p",{className:"card-text"},r.a.createElement("strong",null,"Owner:")," ",this.state.item.owner),r.a.createElement("p",{className:"card-text"},r.a.createElement("strong",null,"Visibility:")," ",this.state.item.visibility)),r.a.createElement("div",{className:"col"},r.a.createElement("p",{className:"card-text"},r.a.createElement("strong",null,"Created At:")," ",this.state.item.createdAt?D()(this.state.item.createdAt).format("YYYY.MM.DD. HH:mm"):""),this.addUpdated())),r.a.createElement("p",{className:"card-text",style:{marginTop:"1rem"}},r.a.createElement("strong",null,"Description:")," ",this.state.item.description),r.a.createElement("p",{className:"card-text mb-0"},r.a.createElement("strong",null,"Download bam files:")," "),r.a.createElement("div",{className:"d-flex flex-wrap"},this.state.item.bamUrls.map((function(e,t){var a=this;return r.a.createElement("div",{className:"p-2",key:t},r.a.createElement("button",{className:"btn btn-outline-primary",onClick:function(){return a.downloadBamFile(e.url)}},"Track: ",e.name))}),this)))))),r.a.createElement("br",null),r.a.createElement("div",{className:"igvContainer"},r.a.createElement("div",{id:"igv-div"})))):r.a.createElement(p.a,{to:"/alignments"}):r.a.createElement(p.a,{to:"/login"})}}]),t}(n.Component),U=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={isLoggedIn:!0},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,j();case 3:e.t1=e.sent,e.t2={isLoggedIn:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.isLoggedIn?r.a.createElement(I,{active:"home"}):r.a.createElement(p.a,{to:"/login"})}}]),t}(r.a.Component),B=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={isLoggedIn:!0,items:[],showError:!1,errormessage:null},a.onEditClick=a.onEditClick.bind(Object(N.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,j();case 3:e.t1=e.sent,e.t2={isLoggedIn:e.t1},e.t0.setState.call(e.t0,e.t2),this.getUsers();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUsers",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a,n=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:9090/api/users/list",{method:"get",headers:new Headers({Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+w.a.get("jwtToken")})}).catch((function(e){n.setState({errormessage:"Cannot connect to server"}),n.setState({showError:!0}),console.log("Cannot connect to server")}));case 3:return t=e.sent,e.next=6,t.json();case 6:(a=e.sent)&&(500===a.status?(this.setState({errormessage:a.message}),this.setState({showError:!0})):403===a.status?this.props.history.push("/login"):(console.log(a),this.setState({items:a}))),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),this.setState({errormessage:"Cannot connect to server"}),this.setState({showError:!0}),console.log("Cannot connect to server. "+e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"onEditClick",value:function(e,t){this.props.history.push("/user/edit",{item:t,isAdmin:!0,origin:"/users"})}},{key:"render",value:function(){var e=this;return D.a.locale("en"),this.state.isLoggedIn?r.a.createElement("div",{className:"container"},r.a.createElement(I,{active:"users"}),r.a.createElement("div",{className:"container table-responsive-lg"},r.a.createElement("h1",null,"User List"),r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",{style:{backgroundColor:"#e3f2fd"}},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Id"),r.a.createElement("th",{scope:"col"},"Username"),r.a.createElement("th",{scope:"col"},"Role"),r.a.createElement("th",{scope:"col"},"Email"),r.a.createElement("th",{scope:"col"},"Updated By"),r.a.createElement("th",{scope:"col"},"Updated At"),r.a.createElement("th",{scope:"col"},"Created By"),r.a.createElement("th",{scope:"col"},"Created At"))),r.a.createElement("tbody",null,this.state.items.map((function(e,t){var a=this;return r.a.createElement("tr",{onClick:function(t){return a.onEditClick(t,e)},className:"userListItem pointer",key:t,"data-toogle":"tooltip","data-placement":"top",title:"Click to edit user"},r.a.createElement("th",null,e.id),r.a.createElement("td",null," ",e.username," "),r.a.createElement("td",null," ",e.role," "),r.a.createElement("td",null," ",e.email," "),r.a.createElement("td",null," ",e.updatedBy," "),r.a.createElement("td",null," ",e.updatedAt?D()(e.updatedAt).format("YYYY.MM.DD. HH:mm"):""," "),r.a.createElement("td",null," ",e.createdBy," "),r.a.createElement("td",null," ",e.createdAt?D()(e.createdAt).format("YYYY.MM.DD. HH:mm"):""," "))}),this)))),r.a.createElement("br",null),r.a.createElement(b,{text:"Add User",type:"btn-outline-secondary btn-lg",onClick:function(){return e.props.history.push("/users/add")}}),this.state.showError?r.a.createElement("div",{className:"alert alert-primary mt-3",role:"alert"},this.state.errormessage):null):r.a.createElement(p.a,{to:"/login"})}}]),t}(r.a.Component),H=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={isLoggedIn:!0,username:"",password:"",email:"",role:"GUEST",showError:!1,errormessage:null},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,j();case 3:e.t1=e.sent,e.t2={isLoggedIn:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setInputValue",value:function(e,t){t=t.trim(),this.setState(Object(E.a)({},e,t))}},{key:"handleDropdownChange",value:function(e){this.setState({role:e.target.value})}},{key:"addUser",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.username&&this.state.password&&this.state.email){e.next=2;break}return e.abrupt("return");case 2:if(A(this.state.email)){e.next=6;break}return this.setState({errormessage:"Not a valid email form"}),this.setState({showError:!0}),e.abrupt("return");case 6:return e.prev=6,e.next=9,fetch("http://localhost:9090/api/users/add",{method:"post",headers:new Headers({Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+w.a.get("jwtToken")}),body:JSON.stringify({username:this.state.username,password:this.state.password,email:this.state.email,role:this.state.role})});case 9:return t=e.sent,e.next=12,t.json();case 12:(a=e.sent)&&(500===a.status?(this.setState({errormessage:a.message}),this.setState({showError:!0})):403===a.status?this.props.history.push("/login"):(console.log(a),this.props.history.push("/users"))),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(6),this.setState({errormessage:"Cannot connect to server"}),this.setState({showError:!0}),console.log("Cannot connect to server. "+e.t0);case 21:case"end":return e.stop()}}),e,this,[[6,16]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.isLoggedIn?r.a.createElement("div",{className:"container"},r.a.createElement(I,{active:"users"}),r.a.createElement("div",{className:"newUserContainer"},r.a.createElement(L,{where:"/users",hist:this.props.history}),r.a.createElement("h1",{className:"d-inline"},"Add New User"),r.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},r.a.createElement(v,{type:"text",placeholder:"Enter username",value:this.state.username?this.state.username:"",onChange:function(t){return e.setInputValue("username",t)},label:"Username",required:!0}),r.a.createElement(v,{type:"password",placeholder:"Enter password",value:this.state.password?this.state.password:"",onChange:function(t){return e.setInputValue("password",t)},label:"Password",required:!0}),r.a.createElement(v,{type:"email",placeholder:"Enter email",value:this.state.email?this.state.email:"",onChange:function(t){return e.setInputValue("email",t)},label:"Email",maxLength:"50",required:!0}),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Role"),r.a.createElement("select",{className:"form-control",value:this.state.role,onChange:this.handleDropdownChange.bind(this)},r.a.createElement("option",{value:"ADMIN"},"Admin"),r.a.createElement("option",{value:"RESEARCHER"},"Researcher"),r.a.createElement("option",{value:"GUEST"},"Guest"))),r.a.createElement(b,{text:"Add User",type:"btn-outline-secondary",onClick:function(){return e.addUser()}}))),this.state.showError?r.a.createElement("div",{className:"alert alert-primary mt-3",role:"alert"},this.state.errormessage):null):r.a.createElement(p.a,{to:"/login"})}}]),t}(r.a.Component),M=a(33),V=a(22),Y=a(67),P=a.n(Y),q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleClose=function(){a.setState({show:!1})},a.handleShow=function(){a.setState({show:!0})},a.state={isLoggedIn:!0,item:a.props.location.state?a.props.location.state.item:null,isAdmin:!!a.props.location.state&&a.props.location.state.isAdmin,show:!1,showError:!1,errormessage:"There are no modifications"},a.replacer=a.replacer.bind(Object(N.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,j();case 3:e.t1=e.sent,e.t2={isLoggedIn:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setInputValue",value:function(e,t){t=t.trim(),this.state.showError&&this.setState({showError:!1}),this.setState({item:Object(M.a)({},this.state.item,Object(E.a)({},e,t))})}},{key:"handleDropdownChange",value:function(e){this.state.showError&&this.setState({showError:!1}),this.setState({item:Object(M.a)({},this.state.item,{role:e.target.value})})}},{key:"replacer",value:function(e,t){return null===t||""===t?void 0:t}},{key:"isChanged",value:function(){return!P.a.isEqual(this.state.item,this.props.location.state.item)}},{key:"editUser",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a,n,r,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.item.username&&this.state.item.email){e.next=2;break}return e.abrupt("return");case 2:if(!this.isChanged()){e.next=26;break}if(n=this.state.item.username===this.props.location.state.item.username?null:this.state.item.username,A(this.state.item.email)){e.next=8;break}return this.setState({errormessage:"Not a valid email form"}),this.setState({showError:!0}),e.abrupt("return");case 8:return this.state.isAdmin?(t="http://localhost:9090/api/users/update",a=JSON.stringify({id:this.props.location.state.item.id,username:n,password:this.state.item.password,email:this.state.item.email,role:this.state.item.role},this.replacer)):(t="http://localhost:9090/api/users/me/update",a=JSON.stringify({username:n,password:this.state.item.password,email:this.state.item.email},this.replacer)),e.prev=9,e.next=12,fetch(t,{method:"post",headers:new Headers({Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+w.a.get("jwtToken")}),body:a});case 12:return r=e.sent,e.next=15,r.json();case 15:(s=e.sent)&&(500===s.status?(this.setState({errormessage:s.message}),this.setState({showError:!0})):403===s.status?this.props.history.push("/login"):(console.log(s),this.props.history.push(this.props.location.state.origin))),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(9),this.setState({errormessage:"Cannot connect to server"}),this.setState({showError:!0}),console.log("Cannot connect to server. "+e.t0);case 24:e.next=28;break;case 26:this.setState({showError:!0}),this.setState({errormessage:"There are no modifications."});case 28:case"end":return e.stop()}}),e,this,[[9,19]])})));return function(){return e.apply(this,arguments)}}()},{key:"deleteUser",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({show:!1}),e.prev=1,e.next=4,fetch("http://localhost:9090/api/users/delete?id="+this.props.location.state.item.id,{method:"post",headers:new Headers({Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+w.a.get("jwtToken")})});case 4:return t=e.sent,e.next=7,t.json();case 7:(a=e.sent)&&(500===a.status?(this.setState({errormessage:a.message}),this.setState({showError:!0})):403===a.status?this.props.history.push("/login"):(console.log(a),this.props.history.push("/users"))),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),this.setState({errormessage:"Cannot connect to server"}),this.setState({showError:!0}),console.log("Cannot connect to server. "+e.t0);case 16:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"addRoleDropdown",value:function(){if(this.state.isAdmin)return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Role"),r.a.createElement("select",{className:"form-control",value:this.state.item.role,onChange:this.handleDropdownChange.bind(this)},r.a.createElement("option",{value:"ADMIN"},"Admin"),r.a.createElement("option",{value:"RESEARCHER"},"Researcher"),r.a.createElement("option",{value:"GUEST"},"Guest")))}},{key:"addModal",value:function(){var e=this;return r.a.createElement(V.a,{show:this.state.show,onHide:this.handleClose},r.a.createElement(V.a.Header,{closeButton:!0},r.a.createElement(V.a.Title,null,"Are you sure you want to delete this user?")),r.a.createElement(V.a.Footer,null,r.a.createElement(b,{type:" btn-secondary",text:"Close",onClick:this.handleClose}),r.a.createElement(b,{type:" btn-danger",text:"Delete",onClick:function(){return e.deleteUser()}})))}},{key:"addDeleteButton",value:function(){var e=this;if(this.state.isAdmin)return r.a.createElement(b,{text:"Delete User",type:"btn-outline-danger btn-lg",onClick:function(){e.handleShow()}})}},{key:"render",value:function(){var e=this;return this.state.isLoggedIn?this.state.item?r.a.createElement("div",{className:"container"},r.a.createElement(I,{active:this.state.isAdmin?"users":"profile"}),r.a.createElement("div",{className:"editUserContainer"},r.a.createElement(L,{where:this.props.location.state.origin,hist:this.props.history}),r.a.createElement("h1",{className:"d-inline"},"Edit User"),this.addModal(),r.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},r.a.createElement(v,{type:"text",value:this.state.item.username,onChange:function(t){return e.setInputValue("username",t)},label:"Username",placeholder:"Enter new username",required:!0}),r.a.createElement(v,{type:"password",placeholder:"Enter new password",value:this.state.item.password?this.state.item.password:"",onChange:function(t){return e.setInputValue("password",t)},label:"Password"}),r.a.createElement(v,{type:"text",value:this.state.item.email,onChange:function(t){return e.setInputValue("email",t)},label:"Email",placeholder:"Enter new email",maxLength:"50",required:!0}),this.addRoleDropdown(),r.a.createElement("div",{className:"btn-toolbar justify-content-between",role:"toolbar"},r.a.createElement(b,{text:"Edit User",type:"btn-outline-secondary btn-lg",onClick:function(){return e.editUser()}}),this.addDeleteButton())),this.state.showError?r.a.createElement("div",{className:"alert alert-primary mt-3",role:"alert"},this.state.errormessage):null)):r.a.createElement(p.a,{to:"/home"}):r.a.createElement(p.a,{to:"/login"})}}]),t}(r.a.Component),z=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={isLoggedIn:!0,item:[],showError:!1,errormessage:null},a.onEditClick=a.onEditClick.bind(Object(N.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,j();case 3:e.t1=e.sent,e.t2={isLoggedIn:e.t1},e.t0.setState.call(e.t0,e.t2),this.getUser();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUser",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:9090/api/users/me?username="+localStorage.getItem("username"),{method:"get",headers:new Headers({Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+w.a.get("jwtToken")})});case 3:return t=e.sent,e.next=6,t.json();case 6:(a=e.sent)&&(500===a.status?(this.setState({errormessage:a.message}),this.setState({showError:!0})):403===a.status?this.props.history.push("/login"):(console.log(a),this.setState({item:a}))),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),this.setState({errormessage:"Cannot connect to server"}),this.setState({showError:!0}),console.log("Cannot connect to server. "+e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"onEditClick",value:function(e){this.props.history.push("/user/edit",{item:this.state.item,isAdmin:!1,origin:"/profile"})}},{key:"checkIfUpdated",value:function(){return this.state.item.updatedAt?r.a.createElement("div",{className:"col"},r.a.createElement("p",{className:"card-text"},"Updated By: ",this.state.item.updatedBy),r.a.createElement("p",{className:"card-text"},"Updated At: ",this.state.item.updatedAt?D()(this.state.item.updatedAt).format("YYYY.MM.DD. HH:mm"):""),r.a.createElement("p",{className:"card-text"},"Created By: ",this.state.item.createdBy),r.a.createElement("p",{className:"card-text"},"Created At: ",this.state.item.createdAt?D()(this.state.item.createdAt).format("YYYY.MM.DD. HH:mm"):"")):r.a.createElement("div",{className:"col"},r.a.createElement("p",{className:"card-text"},"Created By: ",this.state.item.createdBy),r.a.createElement("p",{className:"card-text"},"Created At: ",this.state.item.createdAt?D()(this.state.item.createdAt).format("YYYY.MM.DD. HH:mm"):""))}},{key:"render",value:function(){var e=this;return D.a.locale("en"),this.state.isLoggedIn?r.a.createElement("div",{className:"container"},r.a.createElement(I,{active:"profile"}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"card mt-4"},r.a.createElement("h5",{className:"card-header",style:{backgroundColor:"#e3f2fd"}},"User Profile"),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("p",{className:"card-text"},"Username: ",this.state.item.username),r.a.createElement("p",{className:"card-text"},"Email: ",this.state.item.email),r.a.createElement("p",{className:"card-text"},"Role: ",this.state.item.role)),this.checkIfUpdated())))),r.a.createElement("br",null),r.a.createElement(b,{text:"Edit",type:"btn-outline-secondary btn-lg",onClick:function(t){return e.onEditClick(t)}}),this.state.showError?r.a.createElement("div",{className:"alert alert-primary mt-3",role:"alert"},this.state.errormessage):null):r.a.createElement(p.a,{to:"/login"})}}]),t}(r.a.Component),G=a(105),J=a.n(G),W=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleClose=function(){a.setState({show:!1})},a.handleShow=function(){a.setState({show:!0})},a.state={isLoggedIn:!0,items:[],show:!1,showError:!1,errormessage:null},a.viewAlignment=a.viewAlignment.bind(Object(N.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,j();case 3:e.t1=e.sent,e.t2={isLoggedIn:e.t1},e.t0.setState.call(e.t0,e.t2),this.getAlignments();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAlignments",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:9090/api/align/list",{method:"get",headers:new Headers({Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+w.a.get("jwtToken")})});case 3:return t=e.sent,e.next=6,t.json();case 6:(a=e.sent)&&(500===a.status?(this.setState({errormessage:a.message}),this.setState({showError:!0})):403===a.status?this.props.history.push("/login"):(console.log(a),this.setState({items:a}))),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),this.setState({errormessage:"Cannot connect to server"}),this.setState({showError:!0}),console.log("Cannot connect to server. "+e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"addModal",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{show:this.state.show,onHide:this.handleClose,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(V.a.Header,{closeButton:!0},r.a.createElement(V.a.Title,{id:"contained-modal-title-vcenter"},"Choose an aligner")),r.a.createElement(V.a.Body,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row d-flex justify-content-around"},r.a.createElement("div",{className:"p-2"},r.a.createElement("button",{type:"button",className:"btn btn-light btn-sq",style:{backgroundColor:"#e3f2fd"},onClick:function(){return e.props.history.push("/alignments/add",{aligner:"Bowtie"})}},"Bowtie")),r.a.createElement("div",{className:"p-2"},r.a.createElement("button",{type:"button",className:"btn btn-light btn-sq",style:{backgroundColor:"#e3f2fd"},onClick:function(){return e.props.history.push("/alignments/add",{aligner:"Bwa"})}},"BWA")),r.a.createElement("div",{className:"p-2"},r.a.createElement("button",{type:"button",className:"btn btn-light btn-sq",style:{backgroundColor:"#e3f2fd"},onClick:function(){return e.props.history.push("/alignments/add",{aligner:"Snap"})}},"Snap"))))),r.a.createElement(V.a.Footer,null,r.a.createElement(b,{type:" btn-secondary btn-lg",text:"Close",onClick:this.handleClose}))))}},{key:"viewAlignment",value:function(e,t){this.props.history.push("/alignments/igv",{item:t})}},{key:"getBaseHtml",value:function(){return r.a.createElement("div",{className:"container table-responsive-lg"},r.a.createElement("h1",null,"Alignments"),this.addModal(),r.a.createElement("br",null),r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",{style:{backgroundColor:"#e3f2fd"}},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Aligner"),r.a.createElement("th",{scope:"col"},"Description"),r.a.createElement("th",{scope:"col"},"Owner"),r.a.createElement("th",{scope:"col"},"Visibility"),r.a.createElement("th",{scope:"col"},"Updated By"),r.a.createElement("th",{scope:"col"},"Updated At"),r.a.createElement("th",{scope:"col"},"Created At"))),r.a.createElement("tbody",null,this.state.items.map((function(e,t){var a=this;return r.a.createElement("tr",{key:t,onClick:function(t){return a.viewAlignment(t,e)},"data-toogle":"tooltip","data-placement":"top",title:"Click to view alignment"},r.a.createElement("th",null,e.name),r.a.createElement("td",null," ",e.aligner," "),r.a.createElement("td",null,r.a.createElement(J.a,{text:e.description,length:100})),r.a.createElement("td",null," ",e.owner," "),r.a.createElement("td",null," ",e.visibility," "),r.a.createElement("td",null," ",e.updatedBy," "),r.a.createElement("td",null," ",e.updatedAt?D()(e.updatedAt).format("YYYY.MM.DD. HH:mm"):""," "),r.a.createElement("td",null," ",e.createdAt?D()(e.createdAt).format("YYYY.MM.DD. HH:mm"):""," "))}),this))))}},{key:"render",value:function(){var e=this;D.a.locale("en");var t=localStorage.getItem("role");return this.state.isLoggedIn?r.a.createElement("div",{className:"container"},r.a.createElement(I,{active:"alignments"}),this.getBaseHtml(),r.a.createElement("br",null),"ADMIN"===t||"RESEARCHER"===t?r.a.createElement(b,{text:"Create alignment",type:"btn-lg btn-outline-secondary",onClick:function(){return e.handleShow()}}):null,this.state.showError?r.a.createElement("div",{className:"alert alert-primary mt-3",role:"alert"},this.state.errormessage):null):r.a.createElement(p.a,{to:"/login"})}}]),t}(r.a.Component),_=a(23),Z=a(68),$=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleClose=function(){a.setState({isLoading:!1})},a.state={isLoggedIn:!0,referenceFile:null,readFile:[{name:null,file:[],radio:"specific",specific:1,mismatch:2,penalty:[4,6,1],maxHits:300,maxDist:8}],name:"",description:"",visibility:"PUBLIC",referencId:null,refType:"example",references:[],userAccess:[],usernames:[],trackCount:1,aligner:a.props.location.state.aligner?a.props.location.state.aligner:"Bowtie",showError:!1,errormessage:null,isLoading:!1,acceptedFormat:"Snap"===a.props.location.state.aligner?".fastq,.fq":".fastq,.fq,.fasta,.fna,.fa"},a.handleDropdownChange=a.handleDropdownChange.bind(Object(N.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,j();case 3:e.t1=e.sent,e.t2={isLoggedIn:e.t1},e.t0.setState.call(e.t0,e.t2),this.getReferences(),this.getUsernames();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeHandler",value:function(e,t){var a;this.setState((a={},Object(E.a)(a,t,e.target.files[0]),Object(E.a)(a,"loaded",0),a))}},{key:"onClickHandler",value:function(e){if(this.state.name&&1!==this.state.readFile.length){var t=new FormData;if(this.state.referenceFile||"upload"!==this.state.refType){if("upload"!==this.state.refType&&!this.state.referencId)return this.setState({showError:!0}),void this.setState({errormessage:"Please choose reference genome or upload one."});this.state.referenceFile&&t.append("referenceDna",this.state.referenceFile);for(var a=0;a<this.state.readFile.length-1;a++){if(!this.state.readFile[a].name||!this.state.readFile[a].file[0])return;var n=2===this.state.readFile[a].file.length;t.append("readsForDna["+a+"].name",this.state.readFile[a].name),t.append("readsForDna["+a+"].isPaired",n),t.append("readsForDna["+a+"].read1",this.state.readFile[a].file[0]),n&&t.append("readsForDna["+a+"].read2",this.state.readFile[a].file[1]),"Bowtie"===this.state.aligner?(t.append("readsForDna["+a+"].validCount","specific"!==this.state.readFile[a].radio?this.state.readFile[a].radio:this.state.readFile[a].specific),t.append("readsForDna["+a+"].mismatch",this.state.readFile[a].mismatch)):"Bwa"===this.state.aligner?t.append("readsForDna["+a+"].penalties",this.state.readFile[a].penalty):"Snap"===this.state.aligner&&(t.append("readsForDna["+a+"].maxDist",this.state.readFile[a].maxDist),t.append("readsForDna["+a+"].maxHits",this.state.readFile[a].maxHits))}t.append("name",this.state.name),t.append("description",this.state.description),t.append("aligner",this.state.aligner.toUpperCase()),t.append("visibility",this.state.visibility),t.append("usernameAccessList",this.state.userAccess),null!=this.state.referencId&&t.append("referenceId",this.state.referencId),this.setState({isLoading:!0}),this.upload(t)}}}},{key:"upload",value:function(){var e=Object(f.a)(g.a.mark((function e(t){var a,n,r,s=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:9090/api/align",{method:"post",headers:new Headers({Accept:"application/json",Authorization:"Bearer "+w.a.get("jwtToken")}),body:t}).catch((function(e){s.setState({errormessage:"Cannot connect to server"}),s.setState({showError:!0}),s.setState({isLoading:!1}),console.log("Cannot connect to server")}));case 3:return a=e.sent,e.next=6,a.json();case 6:(n=e.sent)&&(this.setState({isLoading:!1}),500===n.status?(n.message.includes("Maximum upload size exceeded")?(r=n.message.substring(n.message.lastIndexOf("(")+1,n.message.length-1),this.setState({errormessage:"Maximum upload size ("+r/1e6+"MB) exceeded."})):"Wrong file type"===n.message?this.setState({errormessage:n.message+", please upload reference genome in FASTA format and readfiles with one of the following extensions: "+this.state.acceptedFormat}):this.setState({errormessage:n.message}),this.setState({showError:!0})):403===n.status?this.props.history.push("/login"):(console.log(n),this.props.history.push("/alignments/igv",{item:n}))),e.next=17;break;case 10:e.prev=10,e.t0=e.catch(0),this.setState({isLoading:!1}),this.setState({errormessage:"Cannot connect to server"}),this.setState({showError:!0}),this.setState({isLoading:!1}),console.log("Cannot connect to server. "+e.t0);case 17:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleDropdownChange",value:function(e){this.setState({visibility:e.target.value})}},{key:"onRadioChange",value:function(e){this.setState({refType:e.currentTarget.value,referencId:null})}},{key:"showReferenceUpload",value:function(){var e=this;return r.a.createElement("div",{className:"form-group"},r.a.createElement("h4",{className:"mt-1 mb-0"},"Reference DNA file"),r.a.createElement("br",null),r.a.createElement("input",{className:"form-control-title",id:"referenceFile",style:{display:"none"},type:"file",accept:".fasta,.fna,.fa",required:!0,onChange:function(t){return e.onChangeHandler(t,"referenceFile")}}),r.a.createElement("label",{className:"pointer",htmlFor:"referenceFile"},r.a.createElement("span",{className:"fileInput"},"Choose file"),console.log(this.state.referenceFile),null===this.state.referenceFile?" No file chosen":this.state.referenceFile.name))}},{key:"getReferences",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a,n=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:9090/api/align/referencelist",{method:"get",headers:new Headers({Accept:"application/json",Authorization:"Bearer "+w.a.get("jwtToken")})}).catch((function(e){n.setState({errormessage:"Cannot connect to server"}),n.setState({showError:!0}),console.log("Cannot connect to server")}));case 3:return t=e.sent,e.next=6,t.json();case 6:(a=e.sent)&&(500===a.status?(this.setState({errormessage:a.message}),this.setState({showError:!0})):403===a.status?this.props.history.push("/login"):(console.log(a),this.setState({references:a}))),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),this.setState({errormessage:"Cannot connect to server"}),this.setState({showError:!0}),console.log("Cannot connect to server. "+e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"showReferenceExample",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row d-flex justify-content-around"},this.state.references.map((function(e,t){var a=this;return r.a.createElement("div",{className:"p-2",key:t},r.a.createElement("button",{type:"button",style:{backgroundColor:"#e3f2fd"},className:this.state.referencId===e.id?"btn btn-light active":"btn btn-light ",onClick:function(){return a.setState({referencId:e.id})},"data-toogle":"tooltip","data-placement":"top",title:e.description},e.name))}),this)))}},{key:"getUsernames",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a,n=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:9090/api/users/usernamelist",{method:"get",headers:new Headers({Accept:"application/json",Authorization:"Bearer "+w.a.get("jwtToken")})}).catch((function(e){n.setState({errormessage:"Cannot connect to server"}),n.setState({showError:!0}),console.log("Cannot connect to server")}));case 3:return t=e.sent,e.next=6,t.json();case 6:(a=e.sent)&&(500===a.status?(this.setState({errormessage:a.message}),this.setState({showError:!0})):403===a.status?this.props.history.push("/login"):(console.log(a),this.setState({usernames:a.usernames}))),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),this.setState({errormessage:"Cannot connect to server"}),this.setState({showError:!0}),console.log("Cannot connect to server. "+e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"addUserAccessList",value:function(){var e=this;if(("PRIVATE"===this.state.visibility||"PRIVATE_GROUP"===this.state.visibility)&&this.state.usernames&&this.state.usernames.length>0)return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"userSelect"},"View permission for users: "),r.a.createElement(Z.Multiselect,{data:this.state.usernames,value:this.state.userAccess,onChange:function(t){e.setState({userAccess:t})}}))}},{key:"setValueForRead",value:function(e,t,a){var n=Object(_.a)(this.state.readFile),r=Object(M.a)({},n[a]);if("name"===e)r.name=t;else if("file"===e){if(t.length>2)return this.setState({errormessage:"Maximum two files per track"}),void this.setState({showError:!0});this.setState({showError:!1}),r.file=t}else"radio"===e?" --best"===t?r.radio+=t:r.radio=t:"specific"===e?r.specific=t:"mismatch"===e?r.mismatch=t:"penaltyMis"===e?r.penalty[0]=t:"penaltyGapOpen"===e?r.penalty[1]=t:"penaltyGapExt"===e?r.penalty[2]=t:"maxdist"===e?r.maxDist=t:"maxhits"===e&&(r.maxHits=t);if(n[a]=r,""===r.name&&0===r.file.length&&a+1<n.length&&(n.splice(a,1),console.log(n),this.setState({trackCount:this.state.trackCount-1})),null!==r.name&&r.file.length>0&&a+1===n.length){this.setState({trackCount:this.state.trackCount+1});var s=Object(M.a)({},n[a+1]);s.name=null,s.file=[],s.specific=1,s.radio="specific",s.mismatch=2,s.penalty=[4,6,1],s.maxDist=8,s.maxHits=300,n[a+1]=s}this.setState({readFile:n})}},{key:"addOptions",value:function(e){var t=this;return"Bowtie"===this.state.aligner?r.a.createElement(r.a.Fragment,null,r.a.createElement("td",null,r.a.createElement("div",{className:"form-check-inline"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"inlineRadioOptions"+e,checked:"specific"!==this.state.readFile[e].radio,value:"all",onChange:function(a){return t.setValueForRead("radio",a.currentTarget.value,e)}}),r.a.createElement("label",{className:"form-check-label mr-2"},"all"),r.a.createElement("input",{type:"checkbox",className:"form-check-input",value:" --best",name:"inlineCheckBox"+e,onChange:function(a){return t.setValueForRead("radio",a.currentTarget.value,e)},disabled:"specific"===this.state.readFile[e].radio}),r.a.createElement("label",{className:"form-check-label"},"best-to-worst")),r.a.createElement("div",{className:"form-check-inline"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"inlineRadioOptions"+e,checked:"specific"===this.state.readFile[e].radio,value:"specific",onChange:function(a){return t.setValueForRead("radio",a.currentTarget.value,e)}}),r.a.createElement("label",{className:"form-check-label mr-2"},"number: "),r.a.createElement("input",{type:"number",min:"1",length:"2",style:{width:"50px"},value:this.state.readFile[e].specific,onChange:function(a){return t.setValueForRead("specific",a.target.value,e)},disabled:"specific"!==this.state.readFile[e].radio}))),r.a.createElement("td",null,r.a.createElement("input",{type:"number",min:"0",max:"3",length:"2",style:{width:"50px"},value:this.state.readFile[e].mismatch,onChange:function(a){return t.setValueForRead("mismatch",a.target.value,e)}}))):"Bwa"===this.state.aligner?r.a.createElement(r.a.Fragment,null,r.a.createElement("td",{"data-toogle":"tooltip","data-placement":"top",title:"Note: if your reads are <70bp the default values are: 3, 11, 4"},r.a.createElement("input",{type:"number",min:"0",length:"2",style:{width:"50px"},value:this.state.readFile[e].penalty[0],onChange:function(a){return t.setValueForRead("penaltyMis",a.target.value,e)}})),r.a.createElement("td",{"data-toogle":"tooltip","data-placement":"top",title:"Note: if your reads are <70bp the default values are: 3, 11, 4"},r.a.createElement("input",{type:"number",min:"0",length:"2",style:{width:"50px"},value:this.state.readFile[e].penalty[1],onChange:function(a){return t.setValueForRead("penaltyGapOpen",a.target.value,e)}})),r.a.createElement("td",{"data-toogle":"tooltip","data-placement":"top",title:"Note: if your reads are <70bp the default values are: 3, 11, 4"},r.a.createElement("input",{type:"number",min:"0",length:"2",style:{width:"50px"},value:this.state.readFile[e].penalty[2],onChange:function(a){return t.setValueForRead("penaltyGapExt",a.target.value,e)}}))):"Snap"===this.state.aligner?r.a.createElement(r.a.Fragment,null,r.a.createElement("td",{"data-toogle":"tooltip","data-placement":"top",title:"Note: for paired-end reads the default is: 16000"},r.a.createElement("input",{type:"number",min:"10",max:"30000",length:"5",style:{width:"50px"},value:this.state.readFile[e].maxHits,onChange:function(a){return t.setValueForRead("maxhits",a.target.value,e)}})),r.a.createElement("td",null,r.a.createElement("input",{type:"number",min:"0",length:"2",style:{width:"50px"},value:this.state.readFile[e].maxDist,onChange:function(a){return t.setValueForRead("maxdist",a.target.value,e)}}))):void 0}},{key:"addOptionNames",value:function(){return"Bowtie"===this.state.aligner?r.a.createElement(r.a.Fragment,null,r.a.createElement("th",{scope:"col"},"Report valid alignments"),r.a.createElement("th",{scope:"col"},"Most mismatches(0-3)")):"Bwa"===this.state.aligner?r.a.createElement(r.a.Fragment,null,r.a.createElement("th",{scope:"col"},"Mismatch penalty"),r.a.createElement("th",{scope:"col"},"Gap open penalty"),r.a.createElement("th",{scope:"col"},"Gap extension penalty")):"Snap"===this.state.aligner?r.a.createElement(r.a.Fragment,null,r.a.createElement("th",{scope:"col"},"Maximum Hits"),r.a.createElement("th",{scope:"col"},"Maximum Distance")):void 0}},{key:"addTrackInputs",value:function(){for(var e=this,t=[],a=function(a){t.push(r.a.createElement("tr",{key:a},r.a.createElement("th",null,a+1),r.a.createElement("td",null," ",r.a.createElement("input",{id:"readfileInput"+a,className:"form-control-title pr-0",style:{display:"none"},type:"file",accept:e.state.acceptedFormat,required:1===e.state.trackCount||e.state.trackCount>a+1,multiple:!0,onChange:function(t){e.setValueForRead("file",t.target.files,a)}}),r.a.createElement("label",{htmlFor:"readfileInput"+a,style:{width:"230px"},className:"pointer"},r.a.createElement("span",{className:"fileInput"},"Choose Files")," ",e.state.readFile[a].file.length>1?"2 files chosen":0===e.state.readFile[a].file.length?"No file chosen":e.state.readFile[a].file[0].name)),r.a.createElement("td",null," ",r.a.createElement("input",{className:"form-control",type:"text",style:{width:"120px"},value:e.state.readFile[a].name?e.state.readFile[a].name:"",onChange:function(t){return e.setValueForRead("name",t.target.value,a)},placeholder:"Name",maxLength:"12",required:1===e.state.trackCount||e.state.trackCount>a+1})),e.addOptions(a)))},n=0;n<this.state.trackCount;n++)a(n);return r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Track"),r.a.createElement("th",{scope:"col"},"Files"),r.a.createElement("th",{scope:"col"},"Name"),this.addOptionNames())),r.a.createElement("tbody",null,t))}},{key:"addModal",value:function(){if(this.state.isLoading)return r.a.createElement("div",{className:"loading"},"Loading\u2026")}},{key:"nameChangeHandler",value:function(e){this.state.showError&&"Alignment name already exists, please choose an other one."===this.state.errormessage&&this.setState({showError:!1}),this.setState({name:e})}},{key:"render",value:function(){var e=this;return this.state.isLoggedIn?r.a.createElement("div",{className:"container"},r.a.createElement(I,{active:"alignments"}),r.a.createElement("div",{className:"container"},r.a.createElement(L,{where:"/alignments",hist:this.props.history}),r.a.createElement("h1",{className:"d-inline"}," Create new alignment with ",this.state.aligner),r.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},r.a.createElement(v,{type:"text",value:this.state.name,onChange:function(t){return e.nameChangeHandler(t)},label:"Name",maxLength:"20",required:!0}),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Description (optional)"),r.a.createElement("textarea",{value:this.state.description,className:"form-control",rows:"4",maxLength:"1000",onChange:function(t){return e.setState({description:t.target.value})}})),r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"inlineRadioOptions",value:"example",id:"exampleRef",checked:"example"===this.state.refType,onChange:function(t){return e.onRadioChange(t)}}),r.a.createElement("label",{className:"form-check-label",htmlFor:"exampleRef"},"Choose reference dna")),r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"inlineRadioOptions",value:"upload",id:"uploadRef",checked:"upload"===this.state.refType,onChange:function(t){return e.onRadioChange(t)}}),r.a.createElement("label",{className:"form-check-label",htmlFor:"uploadRef"},"Upload reference dna")),"upload"===this.state.refType?this.showReferenceUpload():this.showReferenceExample(),r.a.createElement("h4",null,"Read files"),r.a.createElement("p",null,"Select one file for single end read, two for paired end reads"),r.a.createElement("div",{className:"container table-responsive-lg"},this.addTrackInputs()),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Visibility"),r.a.createElement("select",{className:"form-control",value:this.state.visibility,onChange:function(t){return e.handleDropdownChange(t)}},r.a.createElement("option",{value:"PUBLIC"},"Public"),r.a.createElement("option",{value:"PRIVATE"},"Private"),r.a.createElement("option",{value:"PRIVATE_GROUP"},"Private Group"))),this.addUserAccessList(),r.a.createElement("br",null),r.a.createElement("div",{className:"d-flex justify-content-start"},r.a.createElement(b,{text:"CREATE",type:"btn-outline-secondary btn-lg",onClick:function(t){return e.onClickHandler(t)}}),this.state.showError?r.a.createElement("div",{className:"alert alert-primary ml-2",role:"alert"},this.state.errormessage):null))),this.addModal()):r.a.createElement(p.a,{to:"/login"})}}]),t}(r.a.Component),K=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleClose=function(){a.setState({show:!1})},a.handleShow=function(){a.setState({show:!0})},a.state={isLoggedIn:!0,item:a.props.location.state?a.props.location.state.item:null,show:!1,showError:!1,errormessage:null,username:[]},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"setInputValue",value:function(e,t){this.state.showError&&this.setState({showError:!1}),this.setState({item:Object(M.a)({},this.state.item,Object(E.a)({},e,t))})}},{key:"handleDropdownChange",value:function(e){this.state.showError&&this.setState({showError:!1}),this.setState({item:Object(M.a)({},this.state.item,{visibility:e.target.value})})}},{key:"replacer",value:function(e,t){return null===t||""===t?void 0:t}},{key:"componentDidMount",value:function(){var e=Object(f.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,j();case 3:e.t1=e.sent,e.t2={isLoggedIn:e.t1},e.t0.setState.call(e.t0,e.t2),this.getUsernames();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isChanged",value:function(){return!P.a.isEqual(this.state.item,this.props.location.state.item)}},{key:"editAlignment",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isChanged()){e.next=19;break}return e.prev=1,e.next=4,fetch("http://localhost:9090/api/align/update",{method:"post",headers:new Headers({Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+w.a.get("jwtToken")}),body:JSON.stringify({id:this.state.item.id,name:this.state.item.name,visibility:this.state.item.visibility,description:this.state.item.description,usernameAccessList:this.state.item.userAccess},this.replacer)});case 4:return t=e.sent,console.log("bu"),e.next=8,t.json();case 8:(a=e.sent)&&(500===a.status?(this.setState({errormessage:a.message}),this.setState({showError:!0})):403===a.status?this.props.history.push("/login"):(console.log(a),this.props.history.push("/alignments/igv",{item:a}))),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),this.setState({errormessage:"Cannot connect to server"}),this.setState({showError:!0}),console.log("Cannot connect to server. "+e.t0);case 17:e.next=21;break;case 19:this.setState({showError:!0}),this.setState({errormessage:"There are no modifications"});case 21:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"deleteAlignment",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:9090/api/align/delete?id="+this.props.location.state.item.id,{method:"post",headers:new Headers({Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+w.a.get("jwtToken")})});case 3:return t=e.sent,e.next=6,t.json();case 6:(a=e.sent)&&(500===a.status?(this.setState({errormessage:a.message}),this.setState({showError:!0})):403===a.status?this.props.history.push("/login"):(console.log(a),this.props.history.push("/alignments"))),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),this.setState({errormessage:"Cannot connect to server"}),this.setState({showError:!0}),console.log("Cannot connect to server. "+e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"getUsernames",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:9090/api/users/usernamelist",{method:"get",headers:new Headers({Accept:"application/json",Authorization:"Bearer "+w.a.get("jwtToken")})});case 3:return t=e.sent,e.next=6,t.json();case 6:(a=e.sent)&&(500===a.status?(this.setState({errormessage:a.message}),this.setState({showError:!0})):403===a.status?this.props.history.push("/login"):(console.log(a),this.setState({usernames:a.usernames}))),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),this.setState({errormessage:"Cannot connect to server"}),this.setState({showError:!0}),console.log("Cannot connect to server. "+e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"addModal",value:function(){var e=this;return r.a.createElement(V.a,{show:this.state.show,onHide:this.handleClose},r.a.createElement(V.a.Header,{closeButton:!0},r.a.createElement(V.a.Title,null,"Are you sure you want to delete this alignment?")),r.a.createElement(V.a.Footer,null,r.a.createElement(b,{type:" btn-secondary",text:"Close",onClick:this.handleClose}),r.a.createElement(b,{type:" btn-danger",text:"Delete",onClick:function(){return e.deleteAlignment()}})))}},{key:"addUserAccessList",value:function(){var e=this;if(("PRIVATE"===this.state.item.visibility||"PRIVATE_GROUP"===this.state.item.visibility)&&this.state.usernames&&this.state.usernames.length>0)return r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",{htmlFor:"userSelect"},"View permission for users: "),r.a.createElement(Z.Multiselect,{data:this.state.usernames,value:this.state.item.userAccess,onChange:function(t){e.setState({item:Object(M.a)({},e.state.item,{userAccess:t})})}}))}},{key:"render",value:function(){var e=this;return this.state.isLoggedIn?this.state.item?r.a.createElement("div",{className:"container"},r.a.createElement(I,{active:"alignments"}),r.a.createElement("div",{className:"container"},r.a.createElement(L,{where:"/alignments/igv",item:this.state.item,hist:this.props.history}),r.a.createElement("h1",{className:"d-inline"},"Edit Alignment"),r.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},this.addModal(),r.a.createElement(v,{type:"text",value:this.state.item.name,onChange:function(t){return e.setInputValue("name",t)},label:"Name",required:!0}),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Description (optional)"),r.a.createElement("textarea",{value:this.state.item.description,className:"form-control",rows:"4",maxLength:"1000",onChange:function(t){return e.setInputValue("description",t.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Visibility"),r.a.createElement("select",{className:"form-control",value:this.state.item.visibility,onChange:this.handleDropdownChange.bind(this)},r.a.createElement("option",{value:"PUBLIC"},"Public"),r.a.createElement("option",{value:"PRIVATE"},"Private"),r.a.createElement("option",{value:"PRIVATE_GROUP"},"Private Group"))),this.addUserAccessList(),r.a.createElement("div",{className:"btn-toolbar justify-content-between",role:"toolbar"},r.a.createElement(b,{text:"Edit Alignment",type:"btn-outline-secondary btn-lg",onClick:function(){return e.editAlignment()}}),r.a.createElement(b,{text:"Delete Alignment",type:"btn-outline-danger btn-lg",onClick:function(){e.handleShow()}}))),this.state.showError?r.a.createElement("div",{className:"alert alert-primary mt-3",role:"alert"},this.state.errormessage):null)):r.a.createElement(p.a,{to:"/alignments"}):r.a.createElement(p.a,{to:"/login"})}}]),t}(r.a.Component),Q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={isLoggedIn:!0},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,j();case 3:e.t1=e.sent,e.t2={isLoggedIn:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.isLoggedIn?r.a.createElement(r.a.Fragment,null,r.a.createElement(I,null),r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Not found"),r.a.createElement("p",null,"Sorry this page is not available. Please select page from the menu."))):r.a.createElement(p.a,{to:"/login"})}}]),t}(r.a.Component);function X(){if(JSON.parse(localStorage.getItem("isLoggedIn"))){var e=localStorage.getItem("role");return"ADMIN"===e?r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/login",component:C}),r.a.createElement(p.b,{path:"/alignments/igv",component:T}),r.a.createElement(p.b,{path:"/home",component:U}),r.a.createElement(p.b,{path:"/users/add",component:H}),r.a.createElement(p.b,{path:"/user/edit",component:q}),r.a.createElement(p.b,{path:"/users",component:B}),r.a.createElement(p.b,{path:"/profile",component:z}),r.a.createElement(p.b,{path:"/alignments/edit",component:K}),r.a.createElement(p.b,{path:"/alignments/add",component:$}),r.a.createElement(p.b,{path:"/alignments",component:W}),r.a.createElement(p.a,{exact:!0,from:"/",to:"home"}),r.a.createElement(p.b,{component:Q})):"RESEARCHER"===e?r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/login",component:C}),r.a.createElement(p.b,{path:"/alignments/igv",component:T}),r.a.createElement(p.b,{path:"/home",component:U}),r.a.createElement(p.b,{path:"/profile",component:z}),r.a.createElement(p.b,{path:"/user/edit",component:q}),r.a.createElement(p.b,{path:"/alignments/edit",component:K}),r.a.createElement(p.b,{path:"/alignments/add",component:$}),r.a.createElement(p.b,{path:"/alignments",component:W}),r.a.createElement(p.a,{exact:!0,from:"/",to:"home"}),r.a.createElement(p.b,{component:Q})):r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/login",component:C}),r.a.createElement(p.b,{path:"/alignments/igv",component:T}),r.a.createElement(p.b,{path:"/home",component:U}),r.a.createElement(p.b,{path:"/profile",component:z}),r.a.createElement(p.b,{path:"/user/edit",component:q}),r.a.createElement(p.b,{path:"/alignments",component:W}),r.a.createElement(p.a,{exact:!0,from:"/",to:"home"}),r.a.createElement(p.b,{component:Q}))}return r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/login",component:C}),r.a.createElement(p.b,{path:"/alignments/igv",component:T}),r.a.createElement(p.b,{path:"/home",component:U}),r.a.createElement(p.b,{path:"/users/add",component:H}),r.a.createElement(p.b,{path:"/user/edit",component:q}),r.a.createElement(p.b,{path:"/users",component:B}),r.a.createElement(p.b,{path:"/profile",component:z}),r.a.createElement(p.b,{path:"/alignments/edit",component:K}),r.a.createElement(p.b,{path:"/alignments/add",component:$}),r.a.createElement(p.b,{path:"/alignments",component:W}),r.a.createElement(p.a,{from:"*",to:"/login"}))}a(176),a(177),a(178),a(179);var ee=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement(X,null))}}]),t}(r.a.Component),te=Object(h.a)(ee);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ae=a(27);a(180).config(),o.a.render(r.a.createElement(ae.a,null,r.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[107,1,2]]]);
//# sourceMappingURL=main.b1a55a15.chunk.js.map